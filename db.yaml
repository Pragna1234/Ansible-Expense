- name: Configure DB server
  hosts: db
  become: yes
  vars:
   login_host: pragnadevops.online
  tasks: 
   - name: Install MYSQL Server
     ansible.builtin.dnf:
      name: mysql-server
      state: latest
   - name: Start and enable MYSQL service
     ansible.builtin.service:
       name: mysqld
       state: started 
       enabled: yes
  #check password is already set up or not
  
   - name: DB connection
     community.mysql.mysql_info:
       login_user: root
       login_password: ExpenseApp@
       login_host:"{{login_host}}"
       filter: version
      ignore_errors: yes
      register: mysql_connection_output
  
    - name: printing mysql output
      ansible.builtin.debug:
        msg: "mysql connection output is: {{mysql_connection_output}}"